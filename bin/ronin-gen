#!/usr/bin/env ruby

require 'rubygems'

lib_dir = File.expand_path(File.join(File.dirname(__FILE__),'..','lib'))
unless $LOAD_PATH.include?(lib_dir)
  $LOAD_PATH << lib_dir
end

require 'ronin/gen/gen'
require 'ronin/ui/command_line/commands/gen'
require 'ronin/ui/command_line'

if (ARGV.length > 0 && ARGV.first[0..0] != '-')
  name = ARGV.shift
  begin
    Ronin::Gen.generator(name).start
  rescue Ronin::Gen::UnknownGenerator
    STDERR.puts "ronin-gen: unknown generator #{name}"
    STDERR.puts "ronin-gen: run 'ronin-gen' for a list of generators"
    exit -1
  end
else
  Ronin::UI::CommandLine::Commands::Gen.start
end
